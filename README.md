## 北京大学软件与微电子学院Linux内核分析与驱动编程课程实验

🥢***如果对您有帮助，请给一个star，感激不尽*🥢**



### 实验报告：

- [作业一模块编程](./作业一模块编程/第1次作业-1901210765-吴昊.md)

> 模块的全称是“动态可加载内核模块”（ Loadable Kernel Module，LKM），其在内核空间运行，目标代码通常由一组函数和数据结构组成。模块实际上是一种目标对象文件，其不能独立运行，但是其代码可以在运行时链接到系统中作为内核的一部分运行或从内核中取下， 从而可以动态扩充内核的功能。

- [作业二显示进程的相关信息](./作业二显示进程的相关信息/第2次作业-1901210765-吴昊.md)

> 了解fork与vfork的区别，并显示进程的相关信息。

- [作业三同步机制](./作业三同步机制/第3次作业-1901210765-吴昊.md)

> Linux中有多种同步机制，选择其中两种进行深入剖析。

- [作业四malloc](./作业四malloc/第4次作业-1901210765-吴昊.md)

> 深入剖析malloc()和mmap()

------

- [实验一添加内核补丁](./实验一添加内核补丁/第1次实验-1901210765-吴昊.md)

> [实验要求](./实验一添加内核补丁/实验要求)

- [实验二内核调试](./实验二内核调试/第2次实验-1901210765-吴昊.md)

> [实验要求](./实验二内核调试/实验要求)

- [实验三提取进程信息](./实验三提取进程信息/第3次实验-1901210765-吴昊.md)

> [实验要求](./实验三提取进程信息/实验要求)

- [实验四显示系统缺页次数](./实验四显示系统缺页次数/第4次实验-1901210765-吴昊.md)

> [实验要求](./实验四显示系统缺页次数/实验要求)

- [实验五观察内存映射及查找物理地址](./实验五观察内存映射及查找物理地址/第5次实验-1901210765-吴昊.md)

> [实验要求](./实验五观察内存映射及查找物理地址/实验要求)

------

- [期末报告](./期末报告/6-吴昊-Linux进程虚拟地址空间分析.md)&[答辩PPT](./期末报告/答辩PPT.pptx)

> **实验要求**：题目自选，主要工作与Linux内核相关，可以使源代码分析或者实验及结果分析。
> 
> 
> ### Linux进程虚拟地址空间分析
>
> ### 1.变量的存储位置
>
> .text、(ro_data)、.data、.bss存储的内容是清楚的，但是各种变量在相应部分内存储的顺序仍是不清楚的。
>
> **(未初始化/初始化为0/初始化为非0)(const)(static)(局部/全局)**，共计有**24**种不同的变量。设计包含所有种类变量的测试程序，通过**cat proc/pid/maps**和**程序内的变量线性地址的输出**，确定**每种变量的位置，以及相同段内变量的相对位置**。
>
> ### 2.堆的动态分配
>
> 当申请动态分配的空间小于128k时，**malloc**会调用**brk**系统调用。**剖析brk函数**，同时**调研堆的使用的注意事项和常见问题**。
>
> ### 3.文件的存储映射区
>
> **剖析mmap系统调用**，同时做以下几个实验：
>
> 1.写一个测试程序，它打开某个文件，然后while(1)。将该可执行程序执行两遍，使用cat proc/pid/maps查看**文件存储映射区是否有相应的文件，以及该部分的flags**。
>
> 2.**验证动态链接库和静态链接库的区别**，写一个程序，用两种链接方式生成两种可执行文件，**观察两者的.text区的大小，和文件存储映射区的内容**。
>
> ### 4.栈的使用
>
> 设计实验验证**栈在程序执行期间**的作用。

